SUMMARY = "A mp4 frame publisher"
DESCRIPTION = "This recipe builds a C++ that pulls frames from an mp4 file and publishes them via zeroMQ"
LICENSE = "CLOSED"
SECTION = "resideo"

SRC_URI = "file://framePublisher.cpp \
           file://CMakeLists.txt \
           file://sintel-1024-surround.mp4"

S = "${WORKDIR}/sources"
UNPACKDIR = "${S}"

DEPENDS += " opencv zeromq"
DEPENDS += " frame"

RDEPENDS_${PN} = "libopencv-core libopencv-imgproc libopencv-highgui libopencv-videoio libopencv-imgcodecs"

FILES:${PN} = "/usr /usr/share /usr/bin/framePublisher"

do_install() {
    install -d ${D}/usr/share
    #install -m 0555 sintel-1024-surround.mp4 ${D}/usr/share
}

inherit cmake
